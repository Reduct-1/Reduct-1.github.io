<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æ–°å¹´ç¥ç¦ - å…ƒæ—¦å¿«ä¹ï¼">
    <title>ğŸ‰ğŸ‰ğŸ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', Arial, sans-serif;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .start-container {
            text-align: center;
            background: white;
            padding: 60px 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            max-width: 400px;
            width: 90%;
            z-index: 1000;
        }

        .start-container:hover {
            transform: scale(1.05);
            box-shadow: 0 25px 70px rgba(0,0,0,0.4);
        }

        .start-container h1 {
            font-size: 28px;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .start-container p {
            font-size: 18px;
            color: #7f8c8d;
        }

        .countdown {
            font-size: 48px;
            color: #e74c3c;
            font-weight: bold;
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        .blessing-box {
            position: fixed;
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            word-wrap: break-word;
            word-break: break-word;
            animation: fadeInUp 0.5s ease-out;
            z-index: 100;
            cursor: move;
            touch-action: none;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .blessing-text {
            font-weight: bold;
            color: #2c3e50;
            line-height: 1.5;
        }

        .tip-window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            text-align: center;
            z-index: 2000;
            animation: bounceIn 0.6s ease-out;
            width: 90%;
            max-width: 500px;
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.3);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.05);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .tip-window h2 {
            font-size: 36px;
            color: #FFD700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .exit-window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 60px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            text-align: center;
            z-index: 3000;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 90%;
            max-width: 600px;
        }

        .exit-window:hover {
            transform: translate(-50%, -50%) scale(1.05);
        }

        .exit-window h2 {
            font-size: 28px;
            color: #2c3e50;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .start-container {
                padding: 40px 25px;
            }

            .start-container h1 {
                font-size: 22px;
            }

            .start-container p {
                font-size: 16px;
            }

            .blessing-box {
                min-width: 120px;
                max-width: 85%;
                padding: 12px;
                border-radius: 10px;
            }

            .tip-window, .exit-window {
                padding: 35px 25px;
            }

            .tip-window h2 {
                font-size: 26px;
            }

            .exit-window h2 {
                font-size: 22px;
                line-height: 1.5;
            }

            .countdown {
                font-size: 42px;
            }
        }

        @media (max-width: 480px) {
            .start-container {
                padding: 35px 20px;
            }

            .start-container h1 {
                font-size: 20px;
            }

            .start-container p {
                font-size: 14px;
            }

            .blessing-box {
                min-width: 100px;
                max-width: 90%;
                padding: 10px;
            }

            .tip-window, .exit-window {
                padding: 30px 20px;
            }

            .tip-window h2 {
                font-size: 22px;
            }

            .exit-window h2 {
                font-size: 20px;
            }

            .countdown {
                font-size: 36px;
            }
        }
    </style>
</head>
<body>
    <div id="startContainer" class="start-container">
        <h1>ç‚¹ä¸€ä¸‹è¯•è¯•ï¼Ÿ<br>æ²¡é—®é¢˜çš„ã€‚</h1>
        <p>âœ¨ ğŸ‰ğŸ‰ğŸ‰ âœ¨</p>
    </div>

    <script>
        const messages = [
            "ä¸€å²ä¸€ç¤¼ï¼Œä¸€å¹´æ¬¢å–œ",
            "å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ",
            "å“ä¸€è·³å§ï¼",
            "æ˜¥é£æœ‰ä¿¡ï¼Œäººå¿ƒé•¿ä¹…",
            "å¹´é¦–åˆæœˆï¼Œå²å¦‚ç¦§å…‰",
            "å¹³å®‰å–œä¹æ¥½æ¨‚",
            "ç™¾äº‹ä»æ¬¢ï¼Œé¡ºé¢‚æ—¶å®œ",
            "æ–°çš„ä¸€å¹´ç¥ä½ é•¿ä¸ªå„¿",
            "å¼å¼å¼~",
            "æ—ºé“ºæ‹›ç§Ÿï¼Œå†™ç‚¹å•¥å¥½",
            "èœ€ç¾å¸ä¸‡å²ä¸‡å²ä¸‡ä¸‡å²",
            "å–œè‡³åº†æ¥ï¼Œæ°¸æ°¸å…¶ç¥¥",
            "ä¸€å…ƒå¤å§‹ï¼Œä¸‡è±¡å½’ä¸€",
            "Ciallo~ (âˆ ãƒ»Ï‰< )âŒ’â˜…",
            "æ¬¢ç¬‘å°½å¨±ï¼Œä¹å“‰æœªå¤®",
            "åŠŸä¸å”æï¼Œç‰æ±äºæˆ",
            "æœ€æœ‰æ–‡åŒ–çš„ä¸€é›†",
            "ä½ å¿«å¸®æˆ‘æƒ³æƒ³è¿˜æœ‰ä»€ä¹ˆè¯",
            "å¹³å¹³å®‰å®‰ï¼Œä¸‡äº‹é¡ºé‚",
            "å‘å‘å‘",
            "å¼¥è¶³çè´µçš„ä½ æˆ‘",
            "enjoy yourself!",
            "å½’é›¶ï¼Œæ›´æ–°ï¼Œé‡å¯ï¼Œå‘ä¸Š",
            "ä¸‰é¤æœ‰å‘³ï¼Œå››å­£æœ‰æ™¯",
            "è¾æœ¨å°”å°”ï¼ŒçƒŸç«å¹´å¹´",
            "der~~é©¾ï¼",
            "æœ‰æ—¶é—´ä¸€èµ·å»çœ‹æ˜Ÿæ˜Ÿå¥½ä¼",
            "å½“2026æ¥æ•²é—¨"
        ];

        const colors = [
            "#FFE8E8", "#FFEECC", "#E8FFE8", "#E8F0FF", "#F8E8FF",
            "#FFD8CC", "#F0FFE8", "#E8F8FF", "#FFE8F0", "#FFFFE8",
            "#E8FFFA", "#F8E8E8", "#E8E8FF", "#FFE8CC", "#D8FFE8",
            "#FFE8D8", "#F0E8FF", "#E8FFCC", "#FFCCE8", "#CCE8FF"
        ];

        const COUNT = 50;
        let boxes = [];

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function calculateFontSize(width, height, textLen) {
            const isMobile = window.innerWidth <= 768;
            const maxFontSize = isMobile ? 18 : 22;
            const minFontSize = isMobile ? 11 : 12;
            
            const fontSizeWindow = Math.min(width / 18, height / 4);
            const fontSizeText = maxFontSize - Math.ceil(textLen / 10);
            return Math.max(minFontSize, Math.min(fontSizeWindow, fontSizeText, maxFontSize));
        }

        function createBlessingBox() {
            const box = document.createElement('div');
            box.className = 'blessing-box';

            // æ ¹æ®å±å¹•å®½åº¦è°ƒæ•´çª—å£å¤§å°
            const isMobile = window.innerWidth <= 768;
            const minWidth = isMobile ? 120 : 250;
            const maxWidth = isMobile ? Math.min(300, window.innerWidth * 0.85) : 450;
            const minHeight = isMobile ? 80 : 100;
            const maxHeight = isMobile ? 150 : 200;

            const width = getRandomInt(minWidth, maxWidth);
            const height = getRandomInt(minHeight, maxHeight);
            const maxX = window.innerWidth - width;
            const maxY = window.innerHeight - height;
            const x = getRandomInt(0, Math.max(0, maxX));
            const y = getRandomInt(0, Math.max(0, maxY));

            box.style.width = width + 'px';
            box.style.height = height + 'px';
            box.style.left = x + 'px';
            box.style.top = y + 'px';
            box.style.background = getRandomElement(colors);

            const message = getRandomElement(messages);
            const fontSize = calculateFontSize(width, height, message.length);

            const text = document.createElement('div');
            text.className = 'blessing-text';
            text.textContent = message;
            text.style.fontSize = fontSize + 'px';

            box.appendChild(text);
            document.body.appendChild(box);
            boxes.push(box);

            // è‡ªåŠ¨æ¶ˆå¤±
            setTimeout(() => {
                if (box.parentNode) {
                    box.style.opacity = '0';
                    box.style.transition = 'opacity 0.5s';
                    setTimeout(() => box.remove(), 500);
                }
            }, getRandomInt(10000, 30000));

            // æ‹–æ‹½åŠŸèƒ½ï¼ˆç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼‰
            let isDragging = false;
            let currentX, currentY, initialX, initialY;

            function dragStart(e) {
                if (e.type === "touchstart") {
                    initialX = e.touches[0].clientX - box.offsetLeft;
                    initialY = e.touches[0].clientY - box.offsetTop;
                } else {
                    initialX = e.clientX - box.offsetLeft;
                    initialY = e.clientY - box.offsetTop;
                }
                isDragging = true;
            }

            function drag(e) {
                if (!isDragging) return;
                e.preventDefault();

                if (e.type === "touchmove") {
                    currentX = e.touches[0].clientX - initialX;
                    currentY = e.touches[0].clientY - initialY;
                } else {
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                }

                box.style.left = currentX + 'px';
                box.style.top = currentY + 'px';
            }

            function dragEnd() {
                isDragging = false;
            }

            box.addEventListener('mousedown', dragStart);
            box.addEventListener('touchstart', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('mouseup', dragEnd);
            document.addEventListener('touchend', dragEnd);
        }

        function showTipWindow() {
            const tipWindow = document.createElement('div');
            tipWindow.className = 'tip-window';
            tipWindow.style.background = getRandomElement(colors);
            tipWindow.innerHTML = '<h2>é™›ä¸‹, å…ƒæ—¦å¿«ä¹ï¼</h2>';
            document.body.appendChild(tipWindow);

            setTimeout(() => {
                tipWindow.remove();
                showExitWindow();
            }, 3000);
        }

        function showExitWindow() {
            const exitWindow = document.createElement('div');
            exitWindow.className = 'exit-window';
            exitWindow.style.background = getRandomElement(colors);
            exitWindow.innerHTML = '<h2>æ²¡å•¦ï¼Œå¯ä»¥é€€å‡ºäº†<br>(ç‚¹ä¸€ä¸‹)</h2>';
            document.body.appendChild(exitWindow);

            exitWindow.addEventListener('click', () => {
                boxes.forEach(box => box.remove());
                exitWindow.remove();
                location.reload();
            });
        }

        function startAnimation() {
            const startContainer = document.getElementById('startContainer');
            
            // å€’è®¡æ—¶
            let count = 3;
            startContainer.innerHTML = `<div class="countdown">${count}</div>`;

            const countdownInterval = setInterval(() => {
                count--;
                if (count > 0) {
                    startContainer.querySelector('.countdown').textContent = count;
                } else {
                    clearInterval(countdownInterval);
                    startContainer.style.display = 'none';
                    
                    // åˆ›å»ºç¥ç¦æ¡†
                    for (let i = 0; i < COUNT; i++) {
                        setTimeout(() => {
                            createBlessingBox();
                        }, i * 100);
                    }

                    // æ˜¾ç¤ºæç¤ºçª—å£
                    setTimeout(() => {
                        showTipWindow();
                    }, (COUNT - 1) * 100 + 2000);
                }
            }, 1000);
        }

        // ç‚¹å‡»å¼€å§‹
        document.getElementById('startContainer').addEventListener('click', startAnimation);
    </script>
</body>
</html>
